<h1 class="text-xl font-semibold mb-4">Neuer Beitrag</h1>

<%= form_with model: @post, url: posts_path, multipart: true, html: { class: "space-y-6" } do |f| %>
  <div>
    <%= f.label :content_text, "Text", class: "block text-sm font-medium mb-1" %>
    <%= f.text_area :content_text, rows: 6, required: true, class: "w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500" %>
  </div>

  <div>
    <%= f.label :content_warning, "Content Warning (optional)", class: "block text-sm font-medium mb-1" %>
    <%= f.text_field :content_warning, class: "w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500" %>
  </div>

  <div>
    <p class="text-sm font-medium mb-2">Zielnetzwerke</p>
    <div class="mb-2">
      <button type="button" id="select-all-providers" class="text-sm text-blue-600 hover:underline">Alle auswählen</button>
      <span class="mx-2 text-gray-300">|</span>
      <button type="button" id="deselect-all-providers" class="text-sm text-blue-600 hover:underline">Auswahl aufheben</button>
    </div>
    <div class="grid grid-cols-1 sm:grid-cols-2 gap-2">
      <% @provider_accounts.each do |pa| %>
        <label class="flex items-center space-x-2 rounded-md border border-gray-200 px-3 py-2 bg-white">
          <input type="checkbox" name="provider_account_ids[]" value="<%= pa.id %>" class="rounded provider-checkbox" checked>
          <span><span class="uppercase text-xs text-gray-500"><%= pa.provider %></span> – <%= pa.handle %></span>
        </label>
      <% end %>
    </div>
  </div>

  <div>
    <p class="text-sm font-medium mb-2">Medien (optional, mehrfach möglich)</p>
    <input type="file" name="files[]" multiple class="block w-full text-sm text-gray-900 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100" />
  </div>

  <div>
    <p class="text-sm font-medium mb-2">Alt‑Texte (optional, je Datei eine Zeile)</p>
    <textarea name="alts" rows="3" placeholder="Alt‑Texte, durch Zeilen getrennt" class="w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"></textarea>
  </div>

  <div>
    <%= f.submit "Veröffentlichen", class: "inline-flex items-center rounded-md bg-blue-600 px-4 py-2 text-white hover:bg-blue-700" %>
  </div>
<% end %>


